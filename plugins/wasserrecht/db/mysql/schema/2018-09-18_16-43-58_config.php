<?

$constants = array (
  'WASSERRECHT_DOCUMENT_PATH' => 
  array (
    'name' => 'WASSERRECHT_DOCUMENT_PATH',
    'value' => 'wasserrecht/',
    'prefix' => 'SHAPEPATH',
    'type' => 'string',
    'description' => '',
    'group' => 'Plugins/wasserrecht',
    'plugin' => 'wasserrecht',
    'saved' => 0,
  ),
  'WASSERRECHT_DOCUMENT_URL_PATH' => 
  array (
    'name' => 'WASSERRECHT_DOCUMENT_URL_PATH',
    'value' => '/../../../data/wasserrecht/',
    'prefix' => '',
    'type' => 'string',
    'description' => '',
    'group' => 'Plugins/wasserrecht',
    'plugin' => 'wasserrecht',
    'saved' => 0,
  ),
  'WASSERRECHT_ERKLAERUNG_ENTNAHME_TEILGEWAESSERBENUTZUNGEN_COUNT' => 
  array (
    'name' => 'WASSERRECHT_ERKLAERUNG_ENTNAHME_TEILGEWAESSERBENUTZUNGEN_COUNT',
    'value' => '6',
    'prefix' => '',
    'type' => 'numeric',
    'description' => '',
    'group' => 'Plugins/wasserrecht',
    'plugin' => 'wasserrecht',
    'saved' => 0,
  ),
  'WASSERRECHT_ERKLAERUNG_ENTNAHME_TEILGEWAESSERBENUTZUNGEN_ENTGELTSATZ' => 
  array (
    'name' => 'WASSERRECHT_ERKLAERUNG_ENTNAHME_TEILGEWAESSERBENUTZUNGEN_ENTGELTSATZ',
    'value' => '2',
    'prefix' => '',
    'type' => 'numeric',
    'description' => '',
    'group' => 'Plugins/wasserrecht',
    'plugin' => 'wasserrecht',
    'saved' => 0,
  ),
  'WASSERRECHT_ERKLAERUNG_ENTNAHME_BITTE_AUSWAEHLEN_VALUE' => 
  array (
    'name' => 'WASSERRECHT_ERKLAERUNG_ENTNAHME_BITTE_AUSWAEHLEN_VALUE',
    'value' => 'bitte_auswaehlen',
    'prefix' => '',
    'type' => 'string',
    'description' => '',
    'group' => 'Plugins/wasserrecht',
    'plugin' => 'wasserrecht',
    'saved' => 0,
  ),
  'WASSERRECHT_ERKLAERUNG_ENTNAHME_BITTE_AUSWAEHLEN_TEXT' => 
  array (
    'name' => 'WASSERRECHT_ERKLAERUNG_ENTNAHME_BITTE_AUSWAEHLEN_TEXT',
    'value' => 'Bitte auswählen!',
    'prefix' => '',
    'type' => 'string',
    'description' => '',
    'group' => 'Plugins/wasserrecht',
    'plugin' => 'wasserrecht',
    'saved' => 0,
  ),
  'WASSERRECHT_VORDRUCK_ERKLAERUNG_WASSERENTNAHMEMENGE' => 
  array (
    'name' => 'WASSERRECHT_VORDRUCK_ERKLAERUNG_WASSERENTNAHMEMENGE',
    'value' => 'http://www.lung.mv-regierung.de/dateien/a3_formular_wee_._Anlage_1_1pdf',
    'prefix' => '',
    'type' => 'string',
    'description' => '',
    'group' => 'Plugins/wasserrecht',
    'plugin' => 'wasserrecht',
    'saved' => 0,
  ),
  'WASSERENTNAHMEBENUTZER' => 
  array (
    'name' => 'WASSERENTNAHMEBENUTZER',
    'value' => 'wasserentnahmebenutzer',
    'prefix' => '',
    'type' => 'string',
    'description' => '',
    'group' => 'Plugins/wasserrecht',
    'plugin' => 'wasserrecht',
    'saved' => 0,
  ),
  'WASSERENTNAHMEBENUTZER_AUFFORDERUNG_ZUR_ERKLAERUNG_URL' => 
  array (
    'name' => 'WASSERENTNAHMEBENUTZER_AUFFORDERUNG_ZUR_ERKLAERUNG_URL',
    'value' => 'wasserentnahmebenutzer_aufforderung_zur_erklaerung',
    'prefix' => '',
    'type' => 'string',
    'description' => '',
    'group' => 'Plugins/wasserrecht',
    'plugin' => 'wasserrecht',
    'saved' => 0,
  ),
  'WASSERENTNAHMEBENUTZER_ENTGELTBESCHEID_URL' => 
  array (
    'name' => 'WASSERENTNAHMEBENUTZER_ENTGELTBESCHEID_URL',
    'value' => 'wasserentnahmebenutzer_entgeltbescheid',
    'prefix' => '',
    'type' => 'string',
    'description' => '',
    'group' => 'Plugins/wasserrecht',
    'plugin' => 'wasserrecht',
    'saved' => 0,
  ),
  'WASSERENTNAHMEENTGELT_URL' => 
  array (
    'name' => 'WASSERENTNAHMEENTGELT_URL',
    'value' => 'wasserentnahmeentgelt',
    'prefix' => '',
    'type' => 'string',
    'description' => '',
    'group' => 'Plugins/wasserrecht',
    'plugin' => 'wasserrecht',
    'saved' => 0,
  ),
  'WASSERENTNAHMEENTGELT_ERKLAERUNG_DER_ENTNAHME_URL' => 
  array (
    'name' => 'WASSERENTNAHMEENTGELT_ERKLAERUNG_DER_ENTNAHME_URL',
    'value' => 'wasserentnahmeentgelt_erklaerung_der_entnahme',
    'prefix' => '',
    'type' => 'string',
    'description' => '',
    'group' => 'Plugins/wasserrecht',
    'plugin' => 'wasserrecht',
    'saved' => 0,
  ),
  'WASSERENTNAHMEENTGELT_FESTSETZUNG_URL' => 
  array (
    'name' => 'WASSERENTNAHMEENTGELT_FESTSETZUNG_URL',
    'value' => 'wasserentnahmeentgelt_festsetzung',
    'prefix' => '',
    'type' => 'string',
    'description' => '',
    'group' => 'Plugins/wasserrecht',
    'plugin' => 'wasserrecht',
    'saved' => 0,
  ),
  'ZENTRALE_STELLE_URL' => 
  array (
    'name' => 'ZENTRALE_STELLE_URL',
    'value' => 'zentrale_stelle',
    'prefix' => '',
    'type' => 'string',
    'description' => '',
    'group' => 'Plugins/wasserrecht',
    'plugin' => 'wasserrecht',
    'saved' => 0,
  ),
  'ERSTATTUNG_DES_VERWALTUNGSAUFWANDS_URL' => 
  array (
    'name' => 'ERSTATTUNG_DES_VERWALTUNGSAUFWANDS_URL',
    'value' => 'erstattung_des_verwaltungsaufwands',
    'prefix' => '',
    'type' => 'string',
    'description' => '',
    'group' => 'Plugins/wasserrecht',
    'plugin' => 'wasserrecht',
    'saved' => 0,
  ),
  'GET_FESTSETZUNG_URL' => 
  array (
    'name' => 'GET_FESTSETZUNG_URL',
    'value' => 'getfestsetzung',
    'prefix' => '',
    'type' => 'string',
    'description' => '',
    'group' => 'Plugins/wasserrecht',
    'plugin' => 'wasserrecht',
    'saved' => 0,
  ),
  'GET_ERKLAERUNG_URL' => 
  array (
    'name' => 'GET_ERKLAERUNG_URL',
    'value' => 'geterklaerung',
    'prefix' => '',
    'type' => 'string',
    'description' => '',
    'group' => 'Plugins/wasserrecht',
    'plugin' => 'wasserrecht',
    'saved' => 0,
  ),
  'VERWALTUNGSAUFWAND_BEANTRAGEN_URL' => 
  array (
    'name' => 'VERWALTUNGSAUFWAND_BEANTRAGEN_URL',
    'value' => 'verwaltungsaufwand_beantragen',
    'prefix' => '',
    'type' => 'string',
    'description' => '',
    'group' => 'Plugins/wasserrecht',
    'plugin' => 'wasserrecht',
    'saved' => 0,
  ),
  'ERKLAERUNG_URL' => 
  array (
    'name' => 'ERKLAERUNG_URL',
    'value' => 'erklaerung_',
    'prefix' => '',
    'type' => 'string',
    'description' => '',
    'group' => 'Plugins/wasserrecht',
    'plugin' => 'wasserrecht',
    'saved' => 0,
  ),
  'ERKLAERUNG_ENTSPEEREN_URL' => 
  array (
    'name' => 'ERKLAERUNG_ENTSPEEREN_URL',
    'value' => 'erklaerung_entspeeren_',
    'prefix' => '',
    'type' => 'string',
    'description' => '',
    'group' => 'Plugins/wasserrecht',
    'plugin' => 'wasserrecht',
    'saved' => 0,
  ),
  'ERKLAERUNG_FREIGEBEN_URL' => 
  array (
    'name' => 'ERKLAERUNG_FREIGEBEN_URL',
    'value' => 'erklaerung_freigeben_',
    'prefix' => '',
    'type' => 'string',
    'description' => '',
    'group' => 'Plugins/wasserrecht',
    'plugin' => 'wasserrecht',
    'saved' => 0,
  ),
  'ERHEBUNGSJAHR_URL' => 
  array (
    'name' => 'ERHEBUNGSJAHR_URL',
    'value' => 'erhebungsjahr',
    'prefix' => '',
    'type' => 'string',
    'description' => '',
    'group' => 'Plugins/wasserrecht',
    'plugin' => 'wasserrecht',
    'saved' => 0,
  ),
  'BEHOERDE_URL' => 
  array (
    'name' => 'BEHOERDE_URL',
    'value' => 'behoerde',
    'prefix' => '',
    'type' => 'string',
    'description' => '',
    'group' => 'Plugins/wasserrecht',
    'plugin' => 'wasserrecht',
    'saved' => 0,
  ),
  'ADRESSAT_URL' => 
  array (
    'name' => 'ADRESSAT_URL',
    'value' => 'adressat',
    'prefix' => '',
    'type' => 'string',
    'description' => '',
    'group' => 'Plugins/wasserrecht',
    'plugin' => 'wasserrecht',
    'saved' => 0,
  ),
  'GET_SESSION_ADRESSAT_URL' => 
  array (
    'name' => 'GET_SESSION_ADRESSAT_URL',
    'value' => 'getAdressat',
    'prefix' => '',
    'type' => 'string',
    'description' => '',
    'group' => 'Plugins/wasserrecht',
    'plugin' => 'wasserrecht',
    'saved' => 0,
  ),
  'ENTGELTBESCHEID_ERSTELLEN_URL' => 
  array (
    'name' => 'ENTGELTBESCHEID_ERSTELLEN_URL',
    'value' => 'entgeltscheid_erstellen',
    'prefix' => '',
    'type' => 'string',
    'description' => '',
    'group' => 'Plugins/wasserrecht',
    'plugin' => 'wasserrecht',
    'saved' => 0,
  ),
  'AUSWAHL_CHECKBOX_URL' => 
  array (
    'name' => 'AUSWAHL_CHECKBOX_URL',
    'value' => 'auswahl_checkbox',
    'prefix' => '',
    'type' => 'string',
    'description' => '',
    'group' => 'Plugins/wasserrecht',
    'plugin' => 'wasserrecht',
    'saved' => 0,
  ),
  'AUFFORDERUNG_CHECKBOX_URL' => 
  array (
    'name' => 'AUFFORDERUNG_CHECKBOX_URL',
    'value' => 'aufforderung_checkbox_',
    'prefix' => '',
    'type' => 'string',
    'description' => '',
    'group' => 'Plugins/wasserrecht',
    'plugin' => 'wasserrecht',
    'saved' => 0,
  ),
  'AUFFORDERUNG_BESCHEID_PATH' => 
  array (
    'name' => 'AUFFORDERUNG_BESCHEID_PATH',
    'value' => 'wasserrecht/templates/Aufforderung_Erklaerung.docx',
    'prefix' => '',
    'type' => 'string',
    'description' => '',
    'group' => 'Plugins/wasserrecht',
    'plugin' => 'wasserrecht',
    'saved' => 0,
  ),
  'FESTSETZUNG_BESCHEID_PATH' => 
  array (
    'name' => 'FESTSETZUNG_BESCHEID_PATH',
    'value' => 'wasserrecht/templates/Festsetzung_Sammelbescheid.docx',
    'prefix' => '',
    'type' => 'string',
    'description' => '',
    'group' => 'Plugins/wasserrecht',
    'plugin' => 'wasserrecht',
    'saved' => 0,
  ),
  'WASSERRECHT_STELLE_DATENEINGEBER' => 
  array (
    'name' => 'WASSERRECHT_STELLE_DATENEINGEBER',
    'value' => '2',
    'prefix' => '',
    'type' => 'numeric',
    'description' => '',
    'group' => 'Plugins/wasserrecht',
    'plugin' => 'wasserrecht',
    'saved' => 0,
  ),
  'WASSERRECHT_STELLE_ENTSCHEIDER' => 
  array (
    'name' => 'WASSERRECHT_STELLE_ENTSCHEIDER',
    'value' => '4',
    'prefix' => '',
    'type' => 'numeric',
    'description' => '',
    'group' => 'Plugins/wasserrecht',
    'plugin' => 'wasserrecht',
    'saved' => 0,
  ),
  'WASSERRECHT_STELLE_ADMINISTRATION' => 
  array (
    'name' => 'WASSERRECHT_STELLE_ADMINISTRATION',
    'value' => '5',
    'prefix' => '',
    'type' => 'numeric',
    'description' => '',
    'group' => 'Plugins/wasserrecht',
    'plugin' => 'wasserrecht',
    'saved' => 0,
  ),
  'WASSERRECHT_MENUE_NEUE_WRZ' => 
  array (
    'name' => 'WASSERRECHT_MENUE_NEUE_WRZ',
    'value' => '115',
    'prefix' => '',
    'type' => 'numeric',
    'description' => '',
    'group' => 'Plugins/wasserrecht',
    'plugin' => 'wasserrecht',
    'saved' => 0,
  ),
  'WASSERRECHT_MENUE_NEUE_ANLAGE' => 
  array (
    'name' => 'WASSERRECHT_MENUE_NEUE_ANLAGE',
    'value' => '110',
    'prefix' => '',
    'type' => 'numeric',
    'description' => '',
    'group' => 'Plugins/wasserrecht',
    'plugin' => 'wasserrecht',
    'saved' => 0,
  ),
  'WASSERRECHT_MENUE_NEUE_PERSON' => 
  array (
    'name' => 'WASSERRECHT_MENUE_NEUE_PERSON',
    'value' => '114',
    'prefix' => '',
    'type' => 'numeric',
    'description' => '',
    'group' => 'Plugins/wasserrecht',
    'plugin' => 'wasserrecht',
    'saved' => 0,
  ),
  'WASSERRECHT_MENUE_NEUE_GEWAESSERBENUTZUNG' => 
  array (
    'name' => 'WASSERRECHT_MENUE_NEUE_GEWAESSERBENUTZUNG',
    'value' => '113',
    'prefix' => '',
    'type' => 'numeric',
    'description' => '',
    'group' => 'Plugins/wasserrecht',
    'plugin' => 'wasserrecht',
    'saved' => 0,
  ),
  'WASSERRECHT_MENUE_WASSERENTNAHMEBENUTZER' => 
  array (
    'name' => 'WASSERRECHT_MENUE_WASSERENTNAHMEBENUTZER',
    'value' => '111',
    'prefix' => '',
    'type' => 'numeric',
    'description' => '',
    'group' => 'Plugins/wasserrecht',
    'plugin' => 'wasserrecht',
    'saved' => 0,
  ),
  'WASSERRECHT_MENUE_WASSERENTNAHMEENTGELT' => 
  array (
    'name' => 'WASSERRECHT_MENUE_WASSERENTNAHMEENTGELT',
    'value' => '112',
    'prefix' => '',
    'type' => 'numeric',
    'description' => '',
    'group' => 'Plugins/wasserrecht',
    'plugin' => 'wasserrecht',
    'saved' => 0,
  ),
  'WASSERRECHT_MENUE_ZENTRALE_STELLE' => 
  array (
    'name' => 'WASSERRECHT_MENUE_ZENTRALE_STELLE',
    'value' => '116',
    'prefix' => '',
    'type' => 'numeric',
    'description' => '',
    'group' => 'Plugins/wasserrecht',
    'plugin' => 'wasserrecht',
    'saved' => 0,
  ),
  'WASSERRECHT_MENUE_ERSTATTUNG_DES_VERWALTUNGSAUFWANDS' => 
  array (
    'name' => 'WASSERRECHT_MENUE_ERSTATTUNG_DES_VERWALTUNGSAUFWANDS',
    'value' => '117',
    'prefix' => '',
    'type' => 'numeric',
    'description' => '',
    'group' => 'Plugins/wasserrecht',
    'plugin' => 'wasserrecht',
    'saved' => 0,
  ),
  'SELECTED_LAYER_URL' => 
  array (
    'name' => 'SELECTED_LAYER_URL',
    'value' => 'Layer-Suche_Suchen&selected_layer_id',
    'prefix' => '',
    'type' => 'string',
    'description' => '',
    'group' => 'Plugins/wasserrecht',
    'plugin' => 'wasserrecht',
    'saved' => 0,
  ),
  'ADRESSE_LAYER_ID' => 
  array (
    'name' => 'ADRESSE_LAYER_ID',
    'value' => '2',
    'prefix' => '',
    'type' => 'string',
    'description' => '',
    'group' => 'Plugins/wasserrecht',
    'plugin' => 'wasserrecht',
    'saved' => 0,
  ),
  'ADRESSE_OPERATOR_ID' => 
  array (
    'name' => 'ADRESSE_OPERATOR_ID',
    'value' => 'id',
    'prefix' => '',
    'type' => 'string',
    'description' => '',
    'group' => 'Plugins/wasserrecht',
    'plugin' => 'wasserrecht',
    'saved' => 0,
  ),
  'BEHOERDE_LAYER_ID' => 
  array (
    'name' => 'BEHOERDE_LAYER_ID',
    'value' => '17',
    'prefix' => '',
    'type' => 'string',
    'description' => '',
    'group' => 'Plugins/wasserrecht',
    'plugin' => 'wasserrecht',
    'saved' => 0,
  ),
  'BEHOERDE_OPERATOR_ID' => 
  array (
    'name' => 'BEHOERDE_OPERATOR_ID',
    'value' => 'id',
    'prefix' => '',
    'type' => 'string',
    'description' => '',
    'group' => 'Plugins/wasserrecht',
    'plugin' => 'wasserrecht',
    'saved' => 0,
  ),
  'PERSONEN_LAYER_ID' => 
  array (
    'name' => 'PERSONEN_LAYER_ID',
    'value' => '9',
    'prefix' => '',
    'type' => 'string',
    'description' => '',
    'group' => 'Plugins/wasserrecht',
    'plugin' => 'wasserrecht',
    'saved' => 0,
  ),
  'PERSONEN_OPERATOR_ID' => 
  array (
    'name' => 'PERSONEN_OPERATOR_ID',
    'value' => 'personen_id',
    'prefix' => '',
    'type' => 'string',
    'description' => '',
    'group' => 'Plugins/wasserrecht',
    'plugin' => 'wasserrecht',
    'saved' => 0,
  ),
  'ANLAGEN_LAYER_ID' => 
  array (
    'name' => 'ANLAGEN_LAYER_ID',
    'value' => '2',
    'prefix' => '',
    'type' => 'string',
    'description' => '',
    'group' => 'Plugins/wasserrecht',
    'plugin' => 'wasserrecht',
    'saved' => 0,
  ),
  'ANLAGEN_OPERATOR_ID' => 
  array (
    'name' => 'ANLAGEN_OPERATOR_ID',
    'value' => 'anlage_id',
    'prefix' => '',
    'type' => 'string',
    'description' => '',
    'group' => 'Plugins/wasserrecht',
    'plugin' => 'wasserrecht',
    'saved' => 0,
  ),
  'WRZ_LAYER_ID' => 
  array (
    'name' => 'WRZ_LAYER_ID',
    'value' => '25',
    'prefix' => '',
    'type' => 'string',
    'description' => '',
    'group' => 'Plugins/wasserrecht',
    'plugin' => 'wasserrecht',
    'saved' => 0,
  ),
  'WRZ_OPERATOR_ID' => 
  array (
    'name' => 'WRZ_OPERATOR_ID',
    'value' => 'wrz_id',
    'prefix' => '',
    'type' => 'string',
    'description' => '',
    'group' => 'Plugins/wasserrecht',
    'plugin' => 'wasserrecht',
    'saved' => 0,
  ),
  'GEWAESSERBENUTZUNGEN_LAYER_ID' => 
  array (
    'name' => 'GEWAESSERBENUTZUNGEN_LAYER_ID',
    'value' => '33',
    'prefix' => '',
    'type' => 'string',
    'description' => '',
    'group' => 'Plugins/wasserrecht',
    'plugin' => 'wasserrecht',
    'saved' => 0,
  ),
  'GEWAESSERBENUTZUNGEN_OPERATOR_ID' => 
  array (
    'name' => 'GEWAESSERBENUTZUNGEN_OPERATOR_ID',
    'value' => 'gwb_id',
    'prefix' => '',
    'type' => 'string',
    'description' => '',
    'group' => 'Plugins/wasserrecht',
    'plugin' => 'wasserrecht',
    'saved' => 0,
  ),
  'GEWAESSERBENUTZUNGEN_ART_LAYER_ID' => 
  array (
    'name' => 'GEWAESSERBENUTZUNGEN_ART_LAYER_ID',
    'value' => '34',
    'prefix' => '',
    'type' => 'string',
    'description' => '',
    'group' => 'Plugins/wasserrecht',
    'plugin' => 'wasserrecht',
    'saved' => 0,
  ),
  'GEWAESSERBENUTZUNGEN_ART_OPERATOR_ID' => 
  array (
    'name' => 'GEWAESSERBENUTZUNGEN_ART_OPERATOR_ID',
    'value' => 'id',
    'prefix' => '',
    'type' => 'string',
    'description' => '',
    'group' => 'Plugins/wasserrecht',
    'plugin' => 'wasserrecht',
    'saved' => 0,
  ),
  'GEWAESSERBENUTZUNGEN_ZWECK_LAYER_ID' => 
  array (
    'name' => 'GEWAESSERBENUTZUNGEN_ZWECK_LAYER_ID',
    'value' => '36',
    'prefix' => '',
    'type' => 'string',
    'description' => '',
    'group' => 'Plugins/wasserrecht',
    'plugin' => 'wasserrecht',
    'saved' => 0,
  ),
  'GEWAESSERBENUTZUNGEN_ZWECK_OPERATOR_ID' => 
  array (
    'name' => 'GEWAESSERBENUTZUNGEN_ZWECK_OPERATOR_ID',
    'value' => 'id',
    'prefix' => '',
    'type' => 'string',
    'description' => '',
    'group' => 'Plugins/wasserrecht',
    'plugin' => 'wasserrecht',
    'saved' => 0,
  ),
  'WEEERKLAERER_LAYER_ID' => 
  array (
    'name' => 'WEEERKLAERER_LAYER_ID',
    'value' => '38',
    'prefix' => '',
    'type' => 'string',
    'description' => '',
    'group' => 'Plugins/wasserrecht',
    'plugin' => 'wasserrecht',
    'saved' => 0,
  ),
);

$config_file = PLUGINS.'wasserrecht/config/config.php';
if(file_exists($config_file)){
	$own_constants = $this->get_constants_from_config(file($config_file), 'wasserrecht');
	foreach($constants as &$const){
		if(array_key_exists($const['name'], $own_constants)){
			$const['value'] = $own_constants[$const['name']]['value'];
			$const['saved'] = 1;
		}
	}
}

$sql = "SELECT * FROM config WHERE plugin = 'wasserrecht'";
$result=$this->database->execSQL($sql,0, 0);
if($result[0]){
	echo '<br>Fehler bei der Abfrage der Tabelle config.<br>';
}
else{
	if($this->database->result->num_rows() == 0){
		$sql = '';
		foreach($constants as $constant){
			$sql.="INSERT INTO config (name, prefix, value, description, type, `group`, `plugin`, `saved`) VALUES ('".$constant['name']."', '".$constant['prefix']."', '".addslashes($constant['value'])."', '".addslashes($constant['description'])."', '".$constant['type']."', '".$constant['group']."', '".$constant['plugin']."', ".$constant['saved'].");\n";
		}
		# config Tabelle befüllen
		$result = $this->database->exec_commands($sql, NULL, NULL);
	}
}

if($result[0] == 0){
	# config.php schreiben
	$result = $this->write_config_file('wasserrecht');
}

?>
